{% extends 'empBase.html' %}
{% block main %}
<div class="card shadow m-2">
    <div class="card-body">
        <h5 class="p-2" style="border-bottom:2px solid orange">View Profile </h5>
        <div class="container-fluid">
            <form method="post">
                {% csrf_token %}
                <div class="form-row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" name="firstname" class="form-control" value="{{employee.user.first_name}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" name="lastname" class="form-control" value="{{employee.user.last_name}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Employee Code</label>
                            <input type="text" name="empcode" class="form-control" value="{{employee.empcode}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Department</label>
                            <input type="text" name="empDep" class="form-control" value="{{employee.empdept}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Designation</label>
                            <input type="text" name="empDes" class="form-control" value="{{employee.designation}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Mobile No.</label>
                            <input type="text" name="empContact" class="form-control" value="{{employee.contact}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Email ID</label>
                            <input type="text" name="emailid" class="form-control" value="{{employee.user.username}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Manager Email ID</label>
                            <input type="text" name="manager" class="form-control" value="{{employee.manage}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Date of Birth</label>
                            <input type="text" name="db" class="form-control" value="{{employee.dob}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Adhar No.</label>
                            <input type="text" name="adharno" class="form-control" value="{{employee.adhar}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Provident Fund No.</label>
                            <input type="text" name="pf" class="form-control" value="{{employee.pfno}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>UAN</label>
                            <input type="text" name="uann" class="form-control" value="{{employee.uan}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>ESIC IP</label>
                            <input type="text" name="esic" class="form-control" value="{{employee.esicip}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Bank Name</label>
                            <input type="text" name="bname" class="form-control" value="{{employee.bank}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Account No.</label>
                            <input type="text" name="acno" class="form-control" value="{{employee.accountno}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>IFSC</label>
                            <input type="text" name="ifscno" class="form-control" value="{{employee.ifsc}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Employee Type</label>
                            <input type="text" name="emtype" class="form-control" value="{{employee.emptype}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Date Of Joining</label>
                            <input type="text" name="jdate" class="form-control" value="{{employee.joiningDate}}" disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Gender</label>
                            <input type="text" name="gender" class="form-control" value="{{employee.gender}}" disabled>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    // Alert the user when they try to go back to the login page
    window.addEventListener('popstate', function (event) {
        if (event.target.location.pathname === '/empLogin/') {
            alert('You are already logged in. To log out, please use the logout functionality.');
            event.preventDefault();
        }
    });
</script>

{% if error == "no" %}
<script>
    alert("Profile Created Successfully!!!");
    window.location = ("{% url 'viewProfile' %}");
</script>
{% endif %}
{% if error == "yes" %}
<script>
    alert("Something went wrong. Try Again....");
</script>
{% endif %}

{% endblock %}